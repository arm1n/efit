/*!
 * eFit Website
 * An app for financial training in educational environments
 * http://www.e-fit.com
 * @author Armin Pfurtscheller
 * @version 1.0.0
 * Copyright 2017. MIT licensed.
 */
!function(t,e){"use strict";var i=function(t,e,i,c){this.$scope=t,this.$attrs=e,this.$element=i,this.$injector=c,this._chart=null};i.$inject=["$scope","$attrs","$element","$injector"],i.prototype.data=[],i.prototype.$onInit=function(){var t=this._getOptions(),e={labels:this._getLabels(),series:this._getData()};this._render(e,t)},i.prototype.$onDestroy=function(){null!==this._chart&&(this._chart.detach(),this._chart=null)},i.prototype._getData=function(){var t=this.$injector.get("GROUP_A"),i=this.$injector.get("GROUP_B"),c=this,r=[];switch(c.task.type){case c.$injector.get("TYPE_ANCHORING"):var o={};o[t]={choice1:0,choice2:0,count:0},o[i]={choice1:0,choice2:0,count:0};var n=function(t){var e=t.json.group;switch(t.json.choice){case 1:o[e].choice1++;break;case 2:o[e].choice2++}o[e].count++};e.forEach(this.results,n);var s=o[t],a=o[i];r.push([s.choice1/s.count,a.choice1/a.count]),r.push([s.choice2/s.count,a.choice2/a.count])}return r},i.prototype._getLabels=function(){var t=this.$injector.get("i18n");switch(this.task.type){case this.$injector.get("TYPE_ANCHORING"):return[t.get("GROUP_A"),t.get("GROUP_B")];default:return[]}},i.prototype._getOptions=function(){var t=this.$injector.get("i18n");switch(this.task.type){case this.$injector.get("TYPE_ANCHORING"):return{seriesBarDistance:15,chartPadding:{top:50,left:0,right:0,bottom:0},axisY:{labelInterpolationFnc:function(t){return 100*t+"%"},ticks:[0,.2,.4,.6,.8,1],type:Chartist.FixedScaleAxis,high:1,low:0},plugins:[Chartist.plugins.legend({legendNames:[t.get("Choice 1"),t.get("Choice 2")]})]};default:return{}}},i.prototype._render=function(t,e){var i=this.$injector.get("$timeout");this.$element.addClass("ct-chart");var c=this.$element.get(0),r=this,o=function(){switch(r.task.type){case r.$injector.get("TYPE_ANCHORING"):r._chart=new Chartist.Bar(c,t,e)}};i(o,100)},e.module(t).directive("chart",function(){return{scope:{task:"=?chartTask",results:"=?chartResults"},restrict:"A",controller:i,bindToController:!0,controllerAs:"chartController"}})}(ANGULAR_MODULE,angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9kaXJlY3RpdmVzL2NoYXJ0LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImFuZ3VsYXIiLCJDaGFydCIsIiRzY29wZSIsIiRhdHRycyIsIiRlbGVtZW50IiwiJGluamVjdG9yIiwidGhpcyIsIl9jaGFydCIsIiRpbmplY3QiLCJwcm90b3R5cGUiLCJkYXRhIiwiJG9uSW5pdCIsIm9wdGlvbnMiLCJfZ2V0T3B0aW9ucyIsImxhYmVscyIsIl9nZXRMYWJlbHMiLCJzZXJpZXMiLCJfZ2V0RGF0YSIsIl9yZW5kZXIiLCIkb25EZXN0cm95IiwiZGV0YWNoIiwiR1JPVVBfQSIsImdldCIsIkdST1VQX0IiLCJtZSIsInRhc2siLCJ0eXBlIiwibWFwIiwiY2hvaWNlMSIsImNob2ljZTIiLCJjb3VudCIsIm1hcFJlc3VsdHMiLCJyZXN1bHQiLCJncm91cCIsImpzb24iLCJjaG9pY2UiLCJmb3JFYWNoIiwicmVzdWx0cyIsImdyb3VwQSIsImdyb3VwQiIsInB1c2giLCJpMThuIiwic2VyaWVzQmFyRGlzdGFuY2UiLCJjaGFydFBhZGRpbmciLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJheGlzWSIsImxhYmVsSW50ZXJwb2xhdGlvbkZuYyIsInZhbHVlIiwidGlja3MiLCJDaGFydGlzdCIsIkZpeGVkU2NhbGVBeGlzIiwiaGlnaCIsImxvdyIsInBsdWdpbnMiLCJsZWdlbmQiLCJsZWdlbmROYW1lcyIsIiR0aW1lb3V0IiwiYWRkQ2xhc3MiLCJlbGVtZW50IiwicmVuZGVyIiwiQmFyIiwiZGlyZWN0aXZlIiwic2NvcGUiLCJyZXN0cmljdCIsImNvbnRyb2xsZXIiLCJiaW5kVG9Db250cm9sbGVyIiwiY29udHJvbGxlckFzIiwiQU5HVUxBUl9NT0RVTEUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0NBU0EsU0FBVUEsRUFBUUMsR0FDaEIsWUFTQSxJQUFJQyxHQUFRLFNBQVNDLEVBQVFDLEVBQVFDLEVBQVVDLEdBQzdDQyxLQUFLSixPQUFTQSxFQUNkSSxLQUFL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U0csRUFBUSxNQU1uQjlELEVBQVFELE9BQU9BLEdBQVFpRSxVQUFVLFFBQVMsV0FDeEMsT0FDRUMsT0FDRXhDLEtBQU0sY0FDTlksUUFBUyxrQkFFWDZCLFNBQVUsSUFDVkMsV0FBWWxFLEVBQ1ptRSxrQkFBa0IsRUFDbEJDLGFBQWMsc0JBSWpCQyxlQUFnQnRFIiwiZmlsZSI6ImFwcC9kaXJlY3RpdmVzL2NoYXJ0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBBTkdVTEFSX01PRFVMRSwgYW5ndWxhciwgQ2hhcnRpc3QgKi9cbihmdW5jdGlvbihtb2R1bGUsIGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vXG4gIC8vIENPTlRST0xMRVJcbiAgLy9cblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICB2YXIgQ2hhcnQgPSBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJGVsZW1lbnQsICRpbmplY3Rvcikge1xuICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xuICAgIHRoaXMuJGF0dHJzID0gJGF0dHJzO1xuICAgIHRoaXMuJGVsZW1lbnQgPSAkZWxlbWVudDtcbiAgICB0aGlzLiRpbmplY3RvciA9ICRpbmplY3RvcjtcblxuICAgIHRoaXMuX2NoYXJ0ID0gbnVsbDtcbiAgfTtcblxuICBDaGFydC4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGF0dHJzJywgJyRlbGVtZW50JywgJyRpbmplY3RvciddO1xuXG4gIC8vXG4gIC8vIFBST1BFUlRJRVNcbiAgLy9cblxuICAvKiogQHZhciB7YXJyYXl9IGRhdGEgQ2hhcnQgZGF0YSBmb3Igc2VyaWVzLiAqL1xuICBDaGFydC5wcm90b3R5cGUuZGF0YSA9IFtdO1xuXG4gIC8vXG4gIC8vIE1FVEhPRFNcbiAgLy9cblxuICAvKipcbiAgICpcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAbWV0aG9kICRvbkluaXRcbiAgICogQHJldHVybiB7Vm9pZH1cbiAgICovXG4gIENoYXJ0LnByb3RvdHlwZS4kb25Jbml0ID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5fZ2V0T3B0aW9ucygpO1xuXG4gICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgbGFiZWxzOiB0aGlzLl9nZXRMYWJlbHMoKSxcbiAgICAgICAgc2VyaWVzOiB0aGlzLl9nZXREYXRhKClcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuX3JlbmRlcihkYXRhLCBvcHRpb25zKTtcbiAgICB9O1xuXG4gIC8qKlxuICAgKiBDbGVhbnMgdXAgZXZlcnl0aGluZyBvbiBkZXN0cnVjdGlvbi5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAbWV0aG9kICRvbkRlc3Ryb3lcbiAgICogQHJldHVybiB7Vm9pZH1cbiAgICovXG4gIENoYXJ0LnByb3RvdHlwZS4kb25EZXN0cm95ID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgIGlmICh0aGlzLl9jaGFydCAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9jaGFydC5kZXRhY2goKTtcbiAgICAgICAgdGhpcy5fY2hhcnQgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgLyoqXG4gICAqIEdldHMgZGF0YSBkZXBlbmRpbmcgb24gY3VycmVudCBgdGFza2AuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQG1ldGhvZCBfZ2V0RGF0YVxuICAgKiBAcGFyYW0ge2FycmF5fSBkYXRhXG4gICAqIEByZXR1cm4gaW50XG4gICAqL1xuICBDaGFydC5wcm90b3R5cGUuX2dldERhdGEgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgR1JPVVBfQSA9IHRoaXMuJGluamVjdG9yLmdldCgnR1JPVVBfQScpO1xuICAgIHZhciBHUk9VUF9CID0gdGhpcy4kaW5qZWN0b3IuZ2V0KCdHUk9VUF9CJyk7XG5cbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIHZhciBkYXRhID0gW107XG5cbiAgICBzd2l0Y2gobWUudGFzay50eXBlKSB7XG4gICAgICAvL2Nhc2UgbWUuJGluamVjdG9yLmdldCgnVFlQRV9JTlRFUkVTVCcpOlxuICAgICAgLy9jYXNlIG1lLiRpbmplY3Rvci5nZXQoJ1RZUEVfSU5GTEFUSU9OJyk6XG4gICAgICAvL2Nhc2UgbWUuJGluamVjdG9yLmdldCgnVFlQRV9ESVZFUlNJRklDQVRJT04nKTpcbiAgICAgIC8vY2FzZSBtZS4kaW5qZWN0b3IuZ2V0KCdUWVBFX1JJU0snKTpcbiAgICAgIGNhc2UgbWUuJGluamVjdG9yLmdldCgnVFlQRV9BTkNIT1JJTkcnKTpcblxuICAgICAgICB2YXIgbWFwID0ge307XG4gICAgICAgIG1hcFtHUk9VUF9BXSA9IHsgY2hvaWNlMTogMCwgY2hvaWNlMjogMCwgY291bnQ6MCB9O1xuICAgICAgICBtYXBbR1JPVVBfQl0gPSB7IGNob2ljZTE6IDAsIGNob2ljZTI6IDAsIGNvdW50OjAgfTtcblxuICAgICAgICB2YXIgbWFwUmVzdWx0cyA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHZhciBncm91cCA9IHJlc3VsdC5qc29uLmdyb3VwO1xuXG4gICAgICAgICAgc3dpdGNoIChyZXN1bHQuanNvbi5jaG9pY2UpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgbWFwW2dyb3VwXS5jaG9pY2UxKys7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICBtYXBbZ3JvdXBdLmNob2ljZTIrKztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIH1cblxuICAgICAgICAgIG1hcFtncm91cF0uY291bnQrKztcbiAgICAgICAgfTtcblxuICAgICAgICBhbmd1bGFyLmZvckVhY2godGhpcy5yZXN1bHRzLCBtYXBSZXN1bHRzKTtcblxuICAgICAgICB2YXIgZ3JvdXBBID0gbWFwW0dST1VQX0FdO1xuICAgICAgICB2YXIgZ3JvdXBCID0gbWFwW0dST1VQX0JdO1xuXG4gICAgICAgIC8vIHNlcmllcyAxXG4gICAgICAgIGRhdGEucHVzaChbXG4gICAgICAgICAgZ3JvdXBBLmNob2ljZTEgLyBncm91cEEuY291bnQsXG4gICAgICAgICAgZ3JvdXBCLmNob2ljZTEgLyBncm91cEIuY291bnRcbiAgICAgICAgXSk7XG5cbiAgICAgICAgLy8gc2VyaWVzIDJcbiAgICAgICAgZGF0YS5wdXNoKFtcbiAgICAgICAgICBncm91cEEuY2hvaWNlMiAvIGdyb3VwQS5jb3VudCxcbiAgICAgICAgICBncm91cEIuY2hvaWNlMiAvIGdyb3VwQi5jb3VudFxuICAgICAgICBdKTtcblxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvL2Nhc2UgbWUuJGluamVjdG9yLmdldCgnVFlQRV9NRU5UQUxfQk9PS0tFRVBJTkcnKTpcbiAgICAgIC8vY2FzZSBtZS4kaW5qZWN0b3IuZ2V0KCdUWVBFX0ZSQU1JTkcnKTpcbiAgICAgIC8vY2FzZSBtZS4kaW5qZWN0b3IuZ2V0KCdUWVBFX1NBVklOR1NfVEFSR0VUJyk6XG4gICAgICAvL2Nhc2UgbWUuJGluamVjdG9yLmdldCgnVFlQRV9TQVZJTkdTX1NVUFBPUlRFRCcpOlxuICAgICAgLy9jYXNlIG1lLiRpbmplY3Rvci5nZXQoJ1RZUEVfU0VMRl9DT01NSVRNRU5UJyk6XG4gICAgICAvL2Nhc2UgbWUuJGluamVjdG9yLmdldCgnVFlQRV9QUk9DUkFTVElOQVRJT04nKTpcblxuICAgICAgZGVmYXVsdDpcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0cyBsYWJlbHMgZGVwZW5kaW5nIG9uIGN1cnJlbnQgYHRhc2tgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAbWV0aG9kIF9nZXRMYWJlbHNcbiAgICogQHJldHVybiBhcnJheVxuICAgKi9cbiAgQ2hhcnQucHJvdG90eXBlLl9nZXRMYWJlbHMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaTE4biA9IHRoaXMuJGluamVjdG9yLmdldCgnaTE4bicpO1xuXG4gICAgc3dpdGNoKHRoaXMudGFzay50eXBlKSB7XG4gICAgICBjYXNlIHRoaXMuJGluamVjdG9yLmdldCgnVFlQRV9BTkNIT1JJTkcnKTpcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBpMThuLmdldCgnR1JPVVBfQScpLFxuICAgICAgICAgIGkxOG4uZ2V0KCdHUk9VUF9CJylcbiAgICAgICAgXTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgb3B0aW9ucyBkZXBlbmRpbmcgb24gY3VycmVudCBgdGFza2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBtZXRob2QgX2dldE9wdGlvbnNcbiAgICogQHJldHVybiBhcnJheVxuICAgKi9cbiAgQ2hhcnQucHJvdG90eXBlLl9nZXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGkxOG4gPSB0aGlzLiRpbmplY3Rvci5nZXQoJ2kxOG4nKTtcblxuICAgIHN3aXRjaCh0aGlzLnRhc2sudHlwZSkge1xuICAgICAgY2FzZSB0aGlzLiRpbmplY3Rvci5nZXQoJ1RZUEVfQU5DSE9SSU5HJyk6XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2VyaWVzQmFyRGlzdGFuY2U6IDE1LFxuICAgICAgICAgIGNoYXJ0UGFkZGluZzoge1xuICAgICAgICAgICAgdG9wOiA1MCxcbiAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgIGJvdHRvbTogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYXhpc1k6e1xuICAgICAgICAgICAgbGFiZWxJbnRlcnBvbGF0aW9uRm5jOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gKHZhbHVlICogMTAwKSArICclJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aWNrczogWzAsIDAuMiwgMC40LCAwLjYsIDAuOCwgMV0sXG4gICAgICAgICAgICB0eXBlOiBDaGFydGlzdC5GaXhlZFNjYWxlQXhpcyxcbiAgICAgICAgICAgIGhpZ2g6IDEsXG4gICAgICAgICAgICBsb3c6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBsdWdpbnM6IFtcbiAgICAgICAgICAgIENoYXJ0aXN0LnBsdWdpbnMubGVnZW5kKHtcbiAgICAgICAgICAgICAgbGVnZW5kTmFtZXM6IFtcbiAgICAgICAgICAgICAgICBpMThuLmdldCgnQ2hvaWNlIDEnKSxcbiAgICAgICAgICAgICAgICBpMThuLmdldCgnQ2hvaWNlIDInKVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVuZGVycyBjaGFydCBkZXBlbmRpbmcgb24gY3VycmVudCBgdGFza2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBtZXRob2QgX3JlbmRlclxuICAgKiBAcmV0dXJuIGFycmF5XG4gICAqL1xuICBDaGFydC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uKGRhdGEsIG9wdGlvbnMpIHtcbiAgICB2YXIgJHRpbWVvdXQgPSB0aGlzLiRpbmplY3Rvci5nZXQoJyR0aW1lb3V0Jyk7XG5cbiAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdjdC1jaGFydCcpO1xuICAgIHZhciBlbGVtZW50ID0gdGhpcy4kZWxlbWVudC5nZXQoMCk7XG5cbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIHZhciByZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHN3aXRjaChtZS50YXNrLnR5cGUpIHtcbiAgICAgICAgY2FzZSBtZS4kaW5qZWN0b3IuZ2V0KCdUWVBFX0FOQ0hPUklORycpOlxuICAgICAgICAgIG1lLl9jaGFydCA9IG5ldyBDaGFydGlzdC5CYXIoZWxlbWVudCwgZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICB9XG4gICAgfTtcblxuICAgICR0aW1lb3V0KHJlbmRlciwgMTAwKTtcbiAgfTtcblxuICAvL1xuICAvLyBSRUdJU1RSWVxuICAvL1xuICBhbmd1bGFyLm1vZHVsZShtb2R1bGUpLmRpcmVjdGl2ZSgnY2hhcnQnLCBmdW5jdGlvbigpe1xuICAgIHJldHVybiB7XG4gICAgICBzY29wZToge1xuICAgICAgICB0YXNrOiAnPT9jaGFydFRhc2snLFxuICAgICAgICByZXN1bHRzOiAnPT9jaGFydFJlc3VsdHMnXG4gICAgICB9LFxuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIGNvbnRyb2xsZXI6IENoYXJ0LFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgIGNvbnRyb2xsZXJBczogJ2NoYXJ0Q29udHJvbGxlcidcbiAgICB9O1xuICB9KTtcblxufSkoQU5HVUxBUl9NT0RVTEUsIGFuZ3VsYXIpO1xuIl19
