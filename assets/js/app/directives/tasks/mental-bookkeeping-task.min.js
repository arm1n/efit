/*!
 * eFit Website
 * An app for financial training in educational environments
 * http://www.e-fit.com
 * @author Armin Pfurtscheller
 * @version 1.0.0
 * Copyright 2017. MIT licensed.
 */
!function(t,e){"use strict";var o=function(t,e,o,i){var n=i.get("TYPE_MENTAL_BOOKKEEPING"),s=i.get("user");this.$scope=t,this.$attrs=o,this.$element=e,this.$injector=i,this.task=s.getTaskByType(n),this.group=s.getGroupAsString()};o.$inject=["$scope","$element","$attrs","$injector"],o.prototype.task=null,o.prototype.choice=null,o.prototype.group=!1,o.prototype.resolved=!1,o.prototype.$onInit=function(){this.init()},o.prototype.getPayload=function(){var t=this.$injector.get("user");return{task:this.task,json:{group:t.group,choice:this.choice}}},o.prototype.isLocked=function(){return null===this.task||!this.task.isActive},o.prototype.canResolve=function(){var t=this.$injector.get("user");return!!t.isUser()&&(!this.isLocked()&&(!this.resolved&&!!this.choice))},o.prototype.init=function(){this.resolved=!1},o.prototype.reset=function(){this.init()},o.prototype.update=function(t,e){this.choice=e?t:null},o.prototype.resolve=function(){var t=this.$injector.get("$q"),e=this.onResolve({payload:this.getPayload()}),o=this,i=function(){o.resolved=!0},n=function(){},s=t.when(e);return s.then(i,n),s},e.module(t).directive("mentalBookkeepingTask",function(){return{scope:{onResolve:"&mentalBookkeepingTaskOnResolve"},restrict:"A",transclude:!0,bindToController:!0,controller:o,controllerAs:"mentalBookkeepingTaskController",templateUrl:"views/directives/tasks/mental-bookkeeping-task.html"}})}(ANGULAR_MODULE,angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9kaXJlY3RpdmVzL3Rhc2tzL21lbnRhbC1ib29ra2VlcGluZy10YXNrLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImFuZ3VsYXIiLCJNZW50YWxCb29ra2VlcGluZ1Rhc2siLCIkc2NvcGUiLCIkZWxlbWVudCIsIiRhdHRycyIsIiRpbmplY3RvciIsInR5cGUiLCJnZXQiLCJ1c2VyIiwidGhpcyIsInRhc2siLCJnZXRUYXNrQnlUeXBlIiwiZ3JvdXAiLCJnZXRHcm91cEFzU3RyaW5nIiwiJGluamVjdCIsInByb3RvdHlwZSIsImNob2ljZSIsInJlc29sdmVkIiwiJG9uSW5pdCIsImluaXQiLCJnZXRQYXlsb2FkIiwianNvbiIsImlzTG9ja2VkIiwiaXNBY3RpdmUiLCJjYW5SZXNvbHZlIiwiaXNVc2VyIiwicmVzZXQiLCJ1cGRhdGUiLCJzZWxlY3RlZCIsInJlc29sdmUiLCIkcSIsInJlc3VsdCIsIm9uUmVzb2x2ZSIsInBheWxvYWQiLCJtZSIsInN1Y2Nlc3NDYWxsYmFjayIsImZhaWx1cmVDYWxsYmFjayIsInByb21pc2UiLCJ3aGVuIiwidGhlbiIsImRpcmVjdGl2ZSIsInNjb3BlIiwicmVzdHJpY3QiLCJ0cmFuc2NsdWRlIiwiYmluZFRvQ29udHJvbGxlciIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJ0ZW1wbGF0ZVVybCIsIkFOR1VMQVJfTU9EVUxFIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztDQVNBLFNBQVVBLEVBQVFDLEdBQ2hCLFlBYUEsSUFBSUMsR0FBd0IsU0FBU0MsRUFBUUMsRUFBVUMsRUFBUUMsR0FDN0QsR0FBSUMsR0FBT0QsRUFBVUUsSUFBSSwyQkFDckJDLEVBQU9ILEVBQVVFLElBQUksT0FFekJFLE1BQUtQLE9BQVNBLEVBQ2RPLEtBQUtMLE9BQVNBLEVBQ2RLLEtBQUtOLFNBQVdBLEVBQ2hCTSxLQUFLSixVQUFZQSxFQUVqQkksS0FBS0MsS0FBT0YsRUFBS0csY0FBY0wsR0FDL0JHLEtBQUtHLE1BQVFKLEVBQUtLLG1CQUdwQlosR0FBc0JhLFNBQVcsU0FBUyxXQUFXLFNBQVUsYUFTL0RiLEVBQXNCYyxVQUFVTCxLQUFPLEtBS3ZDVCxFQUFzQmMsVUFBVUMsT0FBUyxLQUd6Q2YsRUFBc0JjLFVBQVVILE9BQVEsRUFHeENYLEVBQXNCYyxVQUFVRSxVQUFXLEVBYzNDaEIsRUFBc0JjLFVBQVVHLFFBQVUsV0FDeENULEtBQUtVLFFBVVBsQixFQUFzQmMsVUFBVUssV0FBYSxXQUMzQyxHQUFJWixHQUFPQyxLQUFLSixVQUFVRSxJQUFJLE9BRTlCLFFBQ0VHLEtBQU1ELEtBQUtDLEtBQ1hXLE1BQ0VULE1BQU9KLEVBQUtJLE1BQ1pJLE9BQVFQLEtBQUtPLFVBWW5CZixFQUFzQmMsVUFBVU8sU0FBVyxXQUN6QyxNQUFrQixRQUFkYixLQUFLQyxPQUlERCxLQUFLQyxLQUFLYSxVQVVwQnRCLEVBQXNCYyxVQUFVUyxXQUFhLFdBQzNDLEdBQUloQixHQUFPQyxLQUFLSixVQUFVRSxJQUFJLE9BQzlCLFNBQUtDLEVBQUtpQixZQUlOaEIsS0FBS2EsY0FJTGIsS0FBS1EsWUFJSlIsS0FBS08sVUFjWmYsRUFBc0JjLFVBQVVJLEtBQU8sV0FDckNWLEtBQUtRLFVBQVcsR0FVbEJoQixFQUFzQmMsVUFBVVcsTUFBUSxXQUN0Q2pCLEtBQUtVLFFBWVBsQixFQUFzQmMsVUFBVVksT0FBUyxTQUFTWCxFQUFRWSxHQUN4RG5CLEtBQUtPLE9BQVNZLEVBQVdaLEVBQVMsTUFXcENmLEVBQXNCYyxVQUFVYyxRQUFVLFdBQ3hDLEdBQUlDLEdBQUtyQixLQUFLSixVQUFVRSxJQUFJLE1BQ3hCd0IsRUFBU3RCLEtBQUt1QixXQUNoQkMsUUFBU3hCLEtBQUtXLGVBR1pjLEVBQUt6QixLQUNMMEIsRUFBa0IsV0FDcEJELEVBQUdqQixVQUFXLEdBRVptQixFQUFrQixhQUlsQkMsRUFBVVAsRUFBR1EsS0FBS1AsRUFNdEIsT0FMQU0sR0FBUUUsS0FDTkosRUFDQUMsR0FHS0MsR0FNVHJDLEVBQVFELE9BQU9BLEdBQVF5QyxVQUFVLHdCQUF5QixXQUN4RCxPQUNFQyxPQUNFVCxVQUFXLG1DQUViVSxTQUFVLElBQ1ZDLFlBQVksRUFDWkMsa0JBQWtCLEVBQ2xCQyxXQUFZNUMsRUFDWjZDLGFBQWMsa0NBQ2RDLFlBQWEsMERBSWhCQyxlQUFnQmhEIiwiZmlsZSI6ImFwcC9kaXJlY3RpdmVzL3Rhc2tzL21lbnRhbC1ib29ra2VlcGluZy10YXNrLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCBBTkdVTEFSX01PRFVMRSwgYW5ndWxhciAqL1xuKGZ1bmN0aW9uKG1vZHVsZSwgYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gTWVudGFsQm9va2tlZXBpbmdUYXNrXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy9cbiAgLy8gQ09OVFJPTExFUlxuICAvL1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIHZhciBNZW50YWxCb29ra2VlcGluZ1Rhc2sgPSBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICRpbmplY3Rvcikge1xuICAgIHZhciB0eXBlID0gJGluamVjdG9yLmdldCgnVFlQRV9NRU5UQUxfQk9PS0tFRVBJTkcnKTtcbiAgICB2YXIgdXNlciA9ICRpbmplY3Rvci5nZXQoJ3VzZXInKTtcblxuICAgIHRoaXMuJHNjb3BlID0gJHNjb3BlO1xuICAgIHRoaXMuJGF0dHJzID0gJGF0dHJzO1xuICAgIHRoaXMuJGVsZW1lbnQgPSAkZWxlbWVudDtcbiAgICB0aGlzLiRpbmplY3RvciA9ICRpbmplY3RvcjtcblxuICAgIHRoaXMudGFzayA9IHVzZXIuZ2V0VGFza0J5VHlwZSh0eXBlKTtcbiAgICB0aGlzLmdyb3VwID0gdXNlci5nZXRHcm91cEFzU3RyaW5nKCk7XG4gIH07XG5cbiAgTWVudGFsQm9va2tlZXBpbmdUYXNrLiRpbmplY3QgPSBbJyRzY29wZScsJyRlbGVtZW50JywnJGF0dHJzJywgJyRpbmplY3RvciddO1xuXG4gIC8vXG4gIC8vIFBST1BFUlRJRVNcbiAgLy9cblxuICAvLyBTRVJWRVJcblxuICAvKiogQHZhciB7b2JqZWN0fSB0YXNrIFRhc2sncyByZXNvdXJjZSBmcm9tIHNlcnZlci4gKi9cbiAgTWVudGFsQm9va2tlZXBpbmdUYXNrLnByb3RvdHlwZS50YXNrID0gbnVsbDtcblxuICAvLyBHQU1FUExBWVxuXG4gIC8qKiBAdmFyIHtudW1iZXJ9IGNob2ljZSBDdXJyZW50bHkgc2VsZWN0ZWQgdXNlciBhbnN3ZXIuICovXG4gIE1lbnRhbEJvb2trZWVwaW5nVGFzay5wcm90b3R5cGUuY2hvaWNlID0gbnVsbDtcblxuICAvKiogQHZhciB7c3RyaW5nfSBncm91cCBDdXJyZW50IHVzZXIncyBncm91cCBhc3NpZ25tZW50LiAqL1xuICBNZW50YWxCb29ra2VlcGluZ1Rhc2sucHJvdG90eXBlLmdyb3VwID0gZmFsc2U7XG5cbiAgLyoqIEB2YXIge2Jvb2xlYW59IHJlc29sdmVkIElmIHBsYXllciBoYXMgcmVzb2x2ZWQgdGhlIGdhbWUuICovXG4gIE1lbnRhbEJvb2trZWVwaW5nVGFzay5wcm90b3R5cGUucmVzb2x2ZWQgPSBmYWxzZTtcblxuICAvL1xuICAvLyBNRVRIT0RTXG4gIC8vXG5cbiAgLyoqXG4gICAqIFByb3hpZXMgdG8gYGluaXQoKWAgaWYgY29udHJvbGxlcidzIHJlYWR5LlxuICAgKiBTZXRzIHVwIGV2ZW50IHNvdXJjZSBmb3IgbGlzdGVuaW5nIHRvXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQG1ldGhvZCAkb25Jbml0XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBNZW50YWxCb29ra2VlcGluZ1Rhc2sucHJvdG90eXBlLiRvbkluaXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmluaXQoKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0cmlldmVzIHJlc3VsdCBwYXlsb2FkIGZvciBzZXJ2ZXIuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQG1ldGhvZCBnZXRQYXlsb2FkXG4gICAqIEByZXR1cm4ge29iamVjdH1cbiAgICovXG4gIE1lbnRhbEJvb2trZWVwaW5nVGFzay5wcm90b3R5cGUuZ2V0UGF5bG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1c2VyID0gdGhpcy4kaW5qZWN0b3IuZ2V0KCd1c2VyJyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdGFzazogdGhpcy50YXNrLFxuICAgICAganNvbjoge1xuICAgICAgICBncm91cDogdXNlci5ncm91cCxcbiAgICAgICAgY2hvaWNlOiB0aGlzLmNob2ljZVxuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRhc2sgaXMgY3VycmVudGx5IGxvY2tlZC5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAbWV0aG9kIGlzTG9ja2VkXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAqL1xuICBNZW50YWxCb29ra2VlcGluZ1Rhc2sucHJvdG90eXBlLmlzTG9ja2VkID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMudGFzayA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuICF0aGlzLnRhc2suaXNBY3RpdmU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRhc2sgY2FuIGJlIHNlbnQgdG8gc2VydmVyLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqIEBtZXRob2QgY2FuUmVzb2x2ZVxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgTWVudGFsQm9va2tlZXBpbmdUYXNrLnByb3RvdHlwZS5jYW5SZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHVzZXIgPSB0aGlzLiRpbmplY3Rvci5nZXQoJ3VzZXInKTtcbiAgICBpZiAoIXVzZXIuaXNVc2VyKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0xvY2tlZCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVzb2x2ZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuY2hvaWNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgaW5pdGlhbCBzdGF0ZS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAbWV0aG9kIGluaXRcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIE1lbnRhbEJvb2trZWVwaW5nVGFzay5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVzb2x2ZWQgPSBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzZXRzIGluaXRpYWwgc3RhdGUuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQG1ldGhvZCByZXNldFxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgTWVudGFsQm9va2tlZXBpbmdUYXNrLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlc2NyaXB0aW9uLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqIEBtZXRob2QgdXBkYXRlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjaG9pY2VcbiAgICogQHBhcmFtIHtudW1iZXJ9IHNlbGVjdGVkXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBNZW50YWxCb29ra2VlcGluZ1Rhc2sucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGNob2ljZSwgc2VsZWN0ZWQpe1xuICAgIHRoaXMuY2hvaWNlID0gc2VsZWN0ZWQgPyBjaG9pY2UgOiBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIGByZXNvbHZlZGAgZmxhZy4gQ2FsbHMgYG9uUmVzb2x2ZWBcbiAgICogY2FsbGJhY2sgd2l0aCBKU09OIHJlc3VsdCBmb3IgY29uc3VtZXIuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQG1ldGhvZCByZXNvbHZlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBNZW50YWxCb29ra2VlcGluZ1Rhc2sucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbigpe1xuICAgIHZhciAkcSA9IHRoaXMuJGluamVjdG9yLmdldCgnJHEnKTtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5vblJlc29sdmUoe1xuICAgICAgcGF5bG9hZDogdGhpcy5nZXRQYXlsb2FkKClcbiAgICB9KTtcblxuICAgIHZhciBtZSA9IHRoaXM7XG4gICAgdmFyIHN1Y2Nlc3NDYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgbWUucmVzb2x2ZWQgPSB0cnVlO1xuICAgIH07XG4gICAgdmFyIGZhaWx1cmVDYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xuXG4gICAgfTtcblxuICAgIHZhciBwcm9taXNlID0gJHEud2hlbihyZXN1bHQpO1xuICAgIHByb21pc2UudGhlbihcbiAgICAgIHN1Y2Nlc3NDYWxsYmFjayxcbiAgICAgIGZhaWx1cmVDYWxsYmFja1xuICAgICk7XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfTtcblxuICAvL1xuICAvLyBSRUdJU1RSWVxuICAvL1xuICBhbmd1bGFyLm1vZHVsZShtb2R1bGUpLmRpcmVjdGl2ZSgnbWVudGFsQm9va2tlZXBpbmdUYXNrJywgZnVuY3Rpb24oKXtcbiAgICByZXR1cm4ge1xuICAgICAgc2NvcGU6IHtcbiAgICAgICAgb25SZXNvbHZlOiAnJm1lbnRhbEJvb2trZWVwaW5nVGFza09uUmVzb2x2ZSdcbiAgICAgIH0sXG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXG4gICAgICBjb250cm9sbGVyOiBNZW50YWxCb29ra2VlcGluZ1Rhc2ssXG4gICAgICBjb250cm9sbGVyQXM6ICdtZW50YWxCb29ra2VlcGluZ1Rhc2tDb250cm9sbGVyJyxcbiAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy90YXNrcy9tZW50YWwtYm9va2tlZXBpbmctdGFzay5odG1sJ1xuICAgIH07XG4gIH0pO1xuXG59KShBTkdVTEFSX01PRFVMRSwgYW5ndWxhcik7XG4iXX0=
