/*!
 * eFit Website
 * An app for financial training in educational environments
 * http://www.e-fit.com
 * @author Armin Pfurtscheller
 * @version 1.0.0
 * Copyright 2017. MIT licensed.
 */
!function(t,e){"use strict";var o=function(t,e,o,r){var n=r.get("TYPE_FRAMING"),i=r.get("user");this.$injector=r,this.task=i.getTaskByType(n)};o.$inject=["$scope","$element","$attrs","$injector"],o.prototype.task=null,o.prototype.resolved=!1,o.prototype.lotteryA=null,o.prototype.lotteryB=null,o.prototype.$onInit=function(){this.init()},o.prototype.getPayload=function(){return{task:this.task,json:{lotteryA:this.lotteryA,lotteryB:this.lotteryB}}},o.prototype.isLocked=function(){return null===this.task||!this.task.isActive},o.prototype.canResolve=function(){var t=this.$injector.get("user");return!!t.isUser()&&(!this.isLocked()&&(!this.resolved&&(null!==this.lotteryA&&null!==this.lotteryB)))},o.prototype.init=function(){this.lotteryA=null,this.lotteryB=null,this.resolved=!1},o.prototype.reset=function(){this.init()},o.prototype.update=function(t,e){this[t]=e},o.prototype.resolve=function(){var t=this.$injector.get("$q"),e=this.onResolve({payload:this.getPayload()}),o=this,r=function(){o.resolved=!0},n=function(){},i=t.when(e);return i.then(r,n),i},e.module(t).directive("framingTask",function(){return{scope:{onResolve:"&framingTaskOnResolve"},restrict:"A",transclude:!0,controller:o,bindToController:!0,controllerAs:"framingTaskController",templateUrl:"views/directives/tasks/framing-task.html"}})}(ANGULAR_MODULE,angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9kaXJlY3RpdmVzL3Rhc2tzL2ZyYW1pbmctdGFzay5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJhbmd1bGFyIiwiRnJhbWluZ1Rhc2siLCIkc2NvcGUiLCIkZWxlbW50IiwiJGF0dHJzIiwiJGluamVjdG9yIiwidHlwZSIsImdldCIsInVzZXIiLCJ0aGlzIiwidGFzayIsImdldFRhc2tCeVR5cGUiLCIkaW5qZWN0IiwicHJvdG90eXBlIiwicmVzb2x2ZWQiLCJsb3R0ZXJ5QSIsImxvdHRlcnlCIiwiJG9uSW5pdCIsImluaXQiLCJnZXRQYXlsb2FkIiwianNvbiIsImlzTG9ja2VkIiwiaXNBY3RpdmUiLCJjYW5SZXNvbHZlIiwiaXNVc2VyIiwicmVzZXQiLCJ1cGRhdGUiLCJsb3R0ZXJ5Iiwic3RhdGUiLCJyZXNvbHZlIiwiJHEiLCJyZXN1bHQiLCJvblJlc29sdmUiLCJwYXlsb2FkIiwibWUiLCJzdWNjZXNzQ2FsbGJhY2siLCJmYWlsdXJlQ2FsbGJhY2siLCJwcm9taXNlIiwid2hlbiIsInRoZW4iLCJkaXJlY3RpdmUiLCJzY29wZSIsInJlc3RyaWN0IiwidHJhbnNjbHVkZSIsImNvbnRyb2xsZXIiLCJiaW5kVG9Db250cm9sbGVyIiwiY29udHJvbGxlckFzIiwidGVtcGxhdGVVcmwiLCJBTkdVTEFSX01PRFVMRSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Q0FTQSxTQUFVQSxFQUFRQyxHQUNoQixZQWFBLElBQUlDLEdBQWMsU0FBU0MsRUFBUUMsRUFBU0MsRUFBUUMsR0FDbEQsR0FBSUMsR0FBT0QsRUFBVUUsSUFBSSxnQkFDckJDLEVBQU9ILEVBQVVFLElBQUksT0FFekJFLE1BQUtKLFVBQVlBLEVBQ2pCSSxLQUFLQyxLQUFPRixFQUFLRyxjQUFjTCxHQUdqQ0wsR0FBWVcsU0FBVyxTQUFTLFdBQVcsU0FBVSxhQUtyRFgsRUFBWVksVUFBVUgsS0FBTyxLQUs3QlQsRUFBWVksVUFBVUMsVUFBVyxFQUdqQ2IsRUFBWVksVUFBVUUsU0FBVyxLQUdqQ2QsRUFBWVksVUFBVUcsU0FBVyxLQWFqQ2YsRUFBWVksVUFBVUksUUFBVSxXQUM5QlIsS0FBS1MsUUFVUGpCLEVBQVlZLFVBQVVNLFdBQWEsV0FDakMsT0FDRVQsS0FBTUQsS0FBS0MsS0FDWFUsTUFDRUwsU0FBVU4sS0FBS00sU0FDZkMsU0FBVVAsS0FBS08sWUFZckJmLEVBQVlZLFVBQVVRLFNBQVcsV0FDL0IsTUFBa0IsUUFBZFosS0FBS0MsT0FJREQsS0FBS0MsS0FBS1ksVUFVcEJyQixFQUFZWSxVQUFVVSxXQUFhLFdBQ2pDLEdBQUlmLEdBQU9DLEtBQUtKLFVBQVVFLElBQUksT0FDOUIsU0FBS0MsRUFBS2dCLFlBSU5mLEtBQUtZLGNBSUxaLEtBQUtLLFdBSWEsT0FBbEJMLEtBQUtNLFVBSWEsT0FBbEJOLEtBQUtPLGFBY1hmLEVBQVlZLFVBQVVLLEtBQU8sV0FDM0JULEtBQUtNLFNBQVcsS0FDaEJOLEtBQUtPLFNBQVcsS0FDaEJQLEtBQUtLLFVBQVcsR0FVbEJiLEVBQVlZLFVBQVVZLE1BQVEsV0FDNUJoQixLQUFLUyxRQVlQakIsRUFBWVksVUFBVWEsT0FBUyxTQUFTQyxFQUFTQyxHQUMvQ25CLEtBQUtrQixHQUFXQyxHQVdsQjNCLEVBQVlZLFVBQVVnQixRQUFVLFdBQzlCLEdBQUlDLEdBQUtyQixLQUFLSixVQUFVRSxJQUFJLE1BRXhCd0IsRUFBU3RCLEtBQUt1QixXQUNoQkMsUUFBU3hCLEtBQUtVLGVBR1plLEVBQUt6QixLQUNMMEIsRUFBa0IsV0FDcEJELEVBQUdwQixVQUFXLEdBRVpzQixFQUFrQixhQUlsQkMsRUFBVVAsRUFBR1EsS0FBS1AsRUFNdEIsT0FMQU0sR0FBUUUsS0FDTkosRUFDQUMsR0FHS0MsR0FNVHJDLEVBQVFELE9BQU9BLEdBQVF5QyxVQUFVLGNBQWUsV0FDOUMsT0FDRUMsT0FDRVQsVUFBVyx5QkFFYlUsU0FBVSxJQUNWQyxZQUFZLEVBQ1pDLFdBQVkzQyxFQUNaNEMsa0JBQWtCLEVBQ2xCQyxhQUFjLHdCQUNkQyxZQUFhLCtDQUloQkMsZUFBZ0JoRCIsImZpbGUiOiJhcHAvZGlyZWN0aXZlcy90YXNrcy9mcmFtaW5nLXRhc2subWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIEFOR1VMQVJfTU9EVUxFLCBhbmd1bGFyICovXG4oZnVuY3Rpb24obW9kdWxlLCBhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBGcmFtaW5nVGFza1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vXG4gIC8vIENPTlRST0xMRVJcbiAgLy9cblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICB2YXIgRnJhbWluZ1Rhc2sgPSBmdW5jdGlvbigkc2NvcGUsICRlbGVtbnQsICRhdHRycywgJGluamVjdG9yKSB7XG4gICAgdmFyIHR5cGUgPSAkaW5qZWN0b3IuZ2V0KCdUWVBFX0ZSQU1JTkcnKTtcbiAgICB2YXIgdXNlciA9ICRpbmplY3Rvci5nZXQoJ3VzZXInKTtcblxuICAgIHRoaXMuJGluamVjdG9yID0gJGluamVjdG9yO1xuICAgIHRoaXMudGFzayA9IHVzZXIuZ2V0VGFza0J5VHlwZSh0eXBlKTtcbiAgfTtcblxuICBGcmFtaW5nVGFzay4kaW5qZWN0ID0gWyckc2NvcGUnLCckZWxlbWVudCcsJyRhdHRycycsICckaW5qZWN0b3InXTtcblxuICAvLyBTRVJWRVJcblxuICAvKiogQHZhciB7b2JqZWN0fSB0YXNrIFRhc2sncyByZXNvdXJjZSBmcm9tIHNlcnZlci4gKi9cbiAgRnJhbWluZ1Rhc2sucHJvdG90eXBlLnRhc2sgPSBudWxsO1xuXG4gIC8vIEdBTUVQTEFZXG5cbiAgLyoqIEB2YXIge2Jvb2xlYW59IHJlc29sdmVkIElmIHBsYXllciBoYXMgcmVzb2x2ZWQgdGhlIGdhbWUuICovXG4gIEZyYW1pbmdUYXNrLnByb3RvdHlwZS5yZXNvbHZlZCA9IGZhbHNlO1xuXG4gIC8qKiBAdmFyIHtib29sZWFufSBsb3R0ZXJ5QSBJZiBwbGF5ZXIgb3B0cyBpbiBmb3IgbG90dGVyeSBBLiAqL1xuICBGcmFtaW5nVGFzay5wcm90b3R5cGUubG90dGVyeUEgPSBudWxsO1xuXG4gIC8qKiBAdmFyIHtib29sZWFufSBsb3R0ZXJ5QiBJZiBwbGF5ZXIgb3B0cyBpbiBmb3IgbG90dGVyeSBBLiAqL1xuICBGcmFtaW5nVGFzay5wcm90b3R5cGUubG90dGVyeUIgPSBudWxsO1xuXG4gIC8vXG4gIC8vIE1FVEhPRFNcbiAgLy9cblxuICAvKipcbiAgICogUHJveGllcyB0byBgaW5pdCgpYCBpZiBjb250cm9sbGVyJ3MgcmVhZHkuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICogQG1ldGhvZCAkb25Jbml0XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBGcmFtaW5nVGFzay5wcm90b3R5cGUuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgcmVzdWx0IHBheWxvYWQgZm9yIHNlcnZlci5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAbWV0aG9kIGdldFBheWxvYWRcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIEZyYW1pbmdUYXNrLnByb3RvdHlwZS5nZXRQYXlsb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRhc2s6IHRoaXMudGFzayxcbiAgICAgIGpzb246IHtcbiAgICAgICAgbG90dGVyeUE6IHRoaXMubG90dGVyeUEsXG4gICAgICAgIGxvdHRlcnlCOiB0aGlzLmxvdHRlcnlCXG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdGFzayBpcyBjdXJyZW50bHkgbG9ja2VkLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqIEBtZXRob2QgaXNMb2NrZWRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIEZyYW1pbmdUYXNrLnByb3RvdHlwZS5pc0xvY2tlZCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLnRhc2sgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiAhdGhpcy50YXNrLmlzQWN0aXZlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG9yIG5vdCB0YXNrIGNhbiBiZSBzZW50IHRvIHNlcnZlci5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAbWV0aG9kIGNhblJlc29sdmVcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIEZyYW1pbmdUYXNrLnByb3RvdHlwZS5jYW5SZXNvbHZlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHVzZXIgPSB0aGlzLiRpbmplY3Rvci5nZXQoJ3VzZXInKTtcbiAgICBpZiAoIXVzZXIuaXNVc2VyKCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0xvY2tlZCgpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVzb2x2ZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5sb3R0ZXJ5QSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmxvdHRlcnlCID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdXAgaW5pdGlhbCBzdGF0ZS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAbWV0aG9kIGluaXRcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIEZyYW1pbmdUYXNrLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5sb3R0ZXJ5QSA9IG51bGw7XG4gICAgdGhpcy5sb3R0ZXJ5QiA9IG51bGw7XG4gICAgdGhpcy5yZXNvbHZlZCA9IGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNldHMgaW5pdGlhbCBzdGF0ZS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAbWV0aG9kIHJlc2V0XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBGcmFtaW5nVGFzay5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpe1xuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHByb3ZpZGVkIGxvdHRlcnkgd2l0aCBnaXZlbiBzdGF0ZS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG90dGVyeVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0YXRlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBGcmFtaW5nVGFzay5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24obG90dGVyeSwgc3RhdGUpe1xuICAgIHRoaXNbbG90dGVyeV0gPSBzdGF0ZTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyBgcmVzb2x2ZWRgIGZsYWcuIENhbGxzIGBvblJlc29sdmVgXG4gICAqIGNhbGxiYWNrIHdpdGggSlNPTiByZXN1bHQgZm9yIGNvbnN1bWVyLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqIEBtZXRob2QgcmVzb2x2ZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgRnJhbWluZ1Rhc2sucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbigpe1xuICAgIHZhciAkcSA9IHRoaXMuJGluamVjdG9yLmdldCgnJHEnKTtcblxuICAgIHZhciByZXN1bHQgPSB0aGlzLm9uUmVzb2x2ZSh7XG4gICAgICBwYXlsb2FkOiB0aGlzLmdldFBheWxvYWQoKVxuICAgIH0pO1xuXG4gICAgdmFyIG1lID0gdGhpcztcbiAgICB2YXIgc3VjY2Vzc0NhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICBtZS5yZXNvbHZlZCA9IHRydWU7XG4gICAgfTtcbiAgICB2YXIgZmFpbHVyZUNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG5cbiAgICB9O1xuXG4gICAgdmFyIHByb21pc2UgPSAkcS53aGVuKHJlc3VsdCk7XG4gICAgcHJvbWlzZS50aGVuKFxuICAgICAgc3VjY2Vzc0NhbGxiYWNrLFxuICAgICAgZmFpbHVyZUNhbGxiYWNrXG4gICAgKTtcblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9O1xuXG4gIC8vXG4gIC8vIFJFR0lTVFJZXG4gIC8vXG4gIGFuZ3VsYXIubW9kdWxlKG1vZHVsZSkuZGlyZWN0aXZlKCdmcmFtaW5nVGFzaycsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG9uUmVzb2x2ZTogJyZmcmFtaW5nVGFza09uUmVzb2x2ZSdcbiAgICAgIH0sXG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICAgIGNvbnRyb2xsZXI6IEZyYW1pbmdUYXNrLFxuICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICAgIGNvbnRyb2xsZXJBczogJ2ZyYW1pbmdUYXNrQ29udHJvbGxlcicsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvdGFza3MvZnJhbWluZy10YXNrLmh0bWwnXG4gICAgfTtcbiAgfSk7XG5cbn0pKEFOR1VMQVJfTU9EVUxFLCBhbmd1bGFyKTtcbiJdfQ==
